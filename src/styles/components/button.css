/**
 * Button Component Styles
 * Reusable button component with primary, secondary, and tertiary variants
 * Includes all interactive states and accessibility features
 */

/* Base button styles */
.btn {
  /* Layout */
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--spacing-sm);

  /* Sizing - Medium is default */
  height: var(--button-height-md);
  padding: 0 var(--button-padding-x-md);
  min-width: 4rem;

  /* Typography */
  font-family: inherit;
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-medium);
  line-height: var(--line-height-tight);
  text-decoration: none;
  white-space: nowrap;

  /* Appearance */
  border: 1px solid transparent;
  border-radius: var(--radius-md);
  background-color: var(--color-primary);
  color: var(--color-primary-contrast);
  box-shadow: var(--shadow-sm);
  cursor: pointer;

  /* Transitions */
  transition:
    background-color var(--transition-normal),
    border-color var(--transition-normal),
    color var(--transition-normal),
    box-shadow var(--transition-normal),
    transform var(--transition-fast);

  /* Remove default button styles */
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
}

/* Interactive States - Primary (default) */
.btn:hover {
  background-color: var(--color-primary-hover);
  transform: translateY(-1px);
  box-shadow: var(--shadow-md);
}

.btn:active {
  background-color: var(--color-primary-active);
  transform: translateY(0);
  box-shadow: var(--shadow-sm);
}

/* Focus styles for accessibility */
.btn:focus {
  outline: none;
}

.btn:focus-visible {
  outline: 2px solid var(--color-primary);
  outline-offset: var(--focus-ring-offset);
}

/* Disabled state */
.btn:disabled,
.btn[aria-disabled="true"] {
  background-color: var(--color-disabled-bg);
  color: var(--color-disabled);
  border-color: var(--color-disabled-bg);
  cursor: not-allowed;
  pointer-events: none;
  opacity: 0.6;
  transform: none;
  box-shadow: none;
}

/* Size Variants */
.btn--small {
  height: var(--button-height-sm);
  padding: 0 var(--button-padding-x-sm);
  font-size: var(--font-size-sm);
  min-width: 3rem;
}

.btn--medium {
  /* Default size - already defined in base .btn */
}

.btn--large {
  height: var(--button-height-lg);
  padding: 0 var(--button-padding-x-lg);
  font-size: var(--font-size-lg);
  min-width: 5rem;
}

/* Style Variants */

/* Primary Button (default) */
.btn--primary {
  /* Already defined in base .btn */
}

/* Secondary Button */
.btn--secondary {
  background-color: var(--color-secondary);
  color: var(--color-secondary-contrast);
  border-color: var(--color-secondary);
}

.btn--secondary:hover {
  background-color: var(--color-secondary-hover);
  border-color: var(--color-secondary-hover);
}

.btn--secondary:active {
  background-color: var(--color-secondary-active);
  border-color: var(--color-secondary-active);
}

.btn--secondary:focus-visible {
  outline-color: var(--color-secondary);
}

/* Tertiary/Ghost Button */
.btn--tertiary {
  background-color: var(--color-tertiary);
  color: var(--color-tertiary-contrast);
  border-color: var(--color-border);
  box-shadow: none;
}

.btn--tertiary:hover {
  background-color: var(--color-tertiary-hover);
  border-color: var(--color-border);
}

.btn--tertiary:active {
  background-color: var(--color-tertiary-active);
  border-color: var(--color-border);
}

.btn--tertiary:focus-visible {
  outline-color: var(--color-primary);
}

/* Button with icon */
.btn--icon-left {
  padding-left: calc(var(--button-padding-x-md) - var(--spacing-xs));
}

.btn--icon-right {
  padding-right: calc(var(--button-padding-x-md) - var(--spacing-xs));
}

.btn--icon-only {
  width: var(--button-height-md);
  padding: 0;
  min-width: auto;
}

.btn--small.btn--icon-only {
  width: var(--button-height-sm);
}

.btn--large.btn--icon-only {
  width: var(--button-height-lg);
}

/* Full width button */
.btn--full-width {
  width: 100%;
  justify-content: center;
}

/* Button group support */
.btn-group {
  display: inline-flex;
  gap: var(--spacing-xs);
  flex-wrap: wrap;
}

.btn-group .btn {
  margin: 0;
}

/* Responsive adjustments */
@media (max-width: 767px) {
  /* Ensure minimum touch target on mobile */
  .btn {
    min-height: var(--button-height-lg); /* 44px minimum */
    touch-action: manipulation; /* Disable double-tap zoom */
  }

  .btn--small {
    min-height: var(--button-height-md); /* At least 40px on mobile */
  }

  /* Full width buttons on mobile for better UX */
  .btn--mobile-full {
    width: 100%;
    justify-content: center;
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .btn {
    border-width: 2px;
  }

  .btn:focus-visible {
    outline-width: 3px;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .btn {
    transition: none;
  }

  .btn:hover {
    transform: none;
  }

  .btn:active {
    transform: none;
  }
}

/* Print styles */
@media print {
  .btn {
    background: none !important;
    color: var(--color-text) !important;
    border: 1px solid var(--color-text) !important;
    box-shadow: none !important;
  }
}